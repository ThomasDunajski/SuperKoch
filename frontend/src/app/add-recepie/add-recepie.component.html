<div class="centered">
  <h2>Rezept hinzufügen</h2>
  <p>
      <mat-form-field class="centered">
          <mat-label>Name</mat-label>
          <input [(ngModel)]="recipe.name" matInput  placeholder="z.B. Tomatensalat">
          <mat-hint>Hint</mat-hint>
        </mat-form-field>
  </p>
  <p>
    <mat-form-field class="centered">
        <mat-label>Kochzeit</mat-label>
        <input [(ngModel)]="recipe.cookingDuration" matInput placeholder="z.B. 15">
        <mat-hint>Minuten</mat-hint>
      </mat-form-field>
  </p>
  <p>
  <mat-form-field class="centered">
    <mat-label>Wartezeit</mat-label>
    <input [(ngModel)]="recipe.restDuration" matInput placeholder="z.B. 15">
    <mat-hint>Minuten</mat-hint>
  </mat-form-field>
  </p>
  <p>
    <mat-form-field class="centered">
      <mat-label>Portionen</mat-label>
      <input [(ngModel)]="recipe.servings" matInput placeholder="z.B. 4">
      <mat-hint>Hint</mat-hint>
    </mat-form-field>
  </p>
  <h3>Zutaten</h3>
  <div class="centered">
    <p  *ngFor="let ingredient of recipe.ingredients; let i = index">
      <mat-form-field id="ingredient">
        <mat-label>Zutat</mat-label>
        <input [(ngModel)]="ingredient.name" matInput placeholder="z.B. Tomate">
        <mat-hint>Hint</mat-hint>
      </mat-form-field>
      <mat-form-field id="quantity">
        <mat-label>Menge</mat-label>
        <input [(ngModel)]="ingredient.quantity" matInput placeholder="z.B. 1">
        <mat-hint>Hint</mat-hint>
      </mat-form-field>
      <mat-form-field id="unit">
        <mat-label>Einheit</mat-label>
        <mat-select [(ngModel)]="ingredient.unit">
          <mat-option *ngFor="let unit of units" [value]="unit">
            {{unit}}
          </mat-option>
        </mat-select>
      </mat-form-field>
      <button mat-button (click)="removeIngredient(i)" class="red">
        <mat-icon>remove_circle_outline</mat-icon>
      </button>
    </p>
  </div>
  
  <p class="center_button">
    <button mat-button (click)="addIngredient()" class="green">
      <mat-icon>add_circle_outline</mat-icon>
    </button>
  </p>
  <h3>Anleitung</h3>
  <p  *ngFor="let instruction of recipe.instructions; let i = index">
    <mat-form-field id="instruction">
      <mat-label>Schritt</mat-label>
      <input [(ngModel)]="recipe.instructions[i]" matInput placeholder="z.B. Gemüse schneiden">
      <mat-hint *ngIf="i===0">für die Übersicht lohnt es sich meistens das Rezept in mehrere Scritte zu teilen</mat-hint>
    </mat-form-field>
    <button mat-button (click)="removeInctruction(i)" class="red">
      <mat-icon>remove_circle_outline</mat-icon>
    </button>
  </p>
  <p>
  <button mat-button (click)="addInstruction()" class="green">
    <mat-icon>add_circle_outline</mat-icon>
  </button>
  </p>
  <p>
    <mat-checkbox [checked]="isSesonal" color="primary" (change)="onCheckboxChange($event.checked)">Saisonal</mat-checkbox>
  </p>
  <p *ngIf="isSesonal">
    <mat-button-toggle-group #season="matButtonToggleGroup" multiple="true" (change)="onSesonChanged(season.value)">
      <mat-button-toggle value="1">Jan</mat-button-toggle>
      <mat-button-toggle value="2">Feb</mat-button-toggle>
      <mat-button-toggle value="3">Mär</mat-button-toggle>
      <mat-button-toggle value="4">Apr</mat-button-toggle>
      <mat-button-toggle value="5">Mai</mat-button-toggle>
      <mat-button-toggle value="6">Jun</mat-button-toggle>
      <mat-button-toggle value="7">Jul</mat-button-toggle>
      <mat-button-toggle value="8">Aug</mat-button-toggle>
      <mat-button-toggle value="9">Sep</mat-button-toggle>
      <mat-button-toggle value="10">Okt</mat-button-toggle>
      <mat-button-toggle value="11">Nov</mat-button-toggle>
      <mat-button-toggle value="12">Dez</mat-button-toggle>
    </mat-button-toggle-group>
  </p>
  <h3>Tags</h3>
  <mat-form-field>
    <mat-chip-list>
      <mat-chip color="primary" *ngFor="let tag of tags" (click)="addTag(tag)">{{tag.name}}</mat-chip>
    </mat-chip-list>
  </mat-form-field>
  <p class=" centered narrow">
  <mat-chip-list>
    <mat-chip selected *ngFor="let tag of selectedTags" [removable]="true" (removed)="removeTag(tag)">{{tag.name}} 
      <mat-icon matChipRemove>cancel</mat-icon>
    </mat-chip>
    </mat-chip-list>  
  </p>
  <p>
    <button mat-button id="save-button" (click)="saveRecipe()">
      Rezept Speichern
    </button>
  </p>
</div>
<div class="container">
  <form [formGroup]="form" (ngSubmit)="submitUser()">

      <!-- Progress Bar -->
      <div class="progress form-group" *ngIf="progress > 0">
          <div class="progress-bar progress-bar-striped bg-success" role="progressbar" [style.width.%]="progress">
          </div>
      </div>

      <div class="form-group">
          <input type="file" (change)="uploadFile($event)">
      </div>

      <div class="form-group input-group-lg">
          <input class="form-control" placeholder="Name" formControlName="name">
      </div>

      <div class="form-group">
          <button class="btn btn-danger btn-block btn-lg">Create</button>
      </div>
  </form>
</div>